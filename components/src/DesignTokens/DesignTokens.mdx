import {
	Title,
	Story,
	ColorPalette,
	ColorItem,
	Meta,
	Typeset,
	Canvas
} from '@storybook/addon-docs/blocks';
import { shades, scales, typography, semantics } from './Tokens';

import * as HeadlineStories from '../Headline/Headline.stories.svelte';
import * as CopyStories from '../Copy/Copy.stories.svelte';
import * as CaptionStories from '../Caption/Caption.stories.svelte';
import * as NoteStories from '../Note/Note.stories.svelte';

<Meta title="Design Tokens" />

# Design Tokens

## Table of Contents

- [Usage](#usage)
  - [Web](#web)
  - [Figma](#figma)
- [Typography](#typography)
  - [Sizes](#sizes)
  - [Styles](#styles)
- [Colours](#colours)
  - [Shades](#shades)
  - [Linear scales](#linear-scales)
  - [Categorical Scales](#categorical-scales)
  - [Divergent Scales](#divergent-scales)

## Usage

### Web

The `<DesignTokens>` component makes colours, type sizes and other design tokens available to its children as CSS variables. Set the `theme` prop to `light` or `dark` to yield light and dark semantic colours or `auto` to follow the user's preference.

```html
<script>
	import DesignTokens from '@swr-data-lab/components';
</script>

<DesignTokens theme="auto">
	<p>I'm a sample paragraph</p>
</DesignTokens>

<style>
	p {
	  color: var(--colours-textPrimary); // this works
	}
</style>
```

You can also import `tokens` directly to use them in Javascript:

```jsx
import tokens from '@swr-data-lab/components';
import { scaleThreshold } from 'd3-scale';
const sampleScale = scaleThreshold([0, 10], tokens.scales.red_blue);
```

### Figma

The tokens on this page are available as a [Figma library](https://www.figma.com/design/Wrd7uUV3GxpNXXkM5ozuHk/Datalab-Design-Tokens?node-id=0-1&t=iOqDxhuMdvEyY8VK-1). This is enabled by default for any file in the [SWR Data Lab team](https://www.figma.com/files/1125823985461580916/team/1415988138343592768).

## Typography

Type sizes and paragraph styles are designed to match the typography on [swr.de](https://www.swr.de/). **Styles** come with built-in settings for `line-height`, `letter-spacing`, etc. and should be preferred over using **sizes** directly.

### Styles

#### H2

<Canvas of={HeadlineStories.Default} />

#### Copy

<Canvas of={CopyStories.Default} />

#### Caption

<Canvas of={CaptionStories.Default} />

#### Note

<Canvas of={NoteStories.Default} />

### Sizes

<Typeset
	fontWeight={700}
	fontFamily="SWR-VAR-Text"
	sampleText="Pollenflug in BW: Was Heuschnupfengeplagte jetzt wissen sollten"
	fontSizes={Object.entries(typography.wide.sizes)
		.map(([_, size]) => {
			return size;
		})
		.reverse()}
/>

## Colours

### Semantics

Light / Dark

<ColorPalette>
	{[
		'textPrimary',
		'textSecondary',
		'textSecondaryHover',
		'logoFill',
		'surfaceFill',
		'pageFill'
	].map((el, i) => {
		return (
			<ColorItem
				title={`${el.split('')[0].toUpperCase()}${el.slice(1)}`}
				colors={[semantics[el]['light'], semantics[el]['dark']]}
			/>
		);
	})}
</ColorPalette>

### Shades

<ColorPalette>
	{[
		'violet',
		'plum',
		'pink',
		'red',
		'orange',
		'yellow',
		'apple',
		'forest',
		'teal',
		'blue',
		'gray'
	].map((el, i) => {
		return (
			<ColorItem title={`${el.split('')[0].toUpperCase()}${el.slice(1)}`} colors={shades[el]} />
		);
	})}
</ColorPalette>
