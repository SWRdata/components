<script lang="ts">
	import maplibre, { type ControlPosition } from 'maplibre-gl';
	import MapControl from '../MapControl/MapControl.svelte';

	interface NavigationControlProps {
		showCompass?: boolean;
		/**
		 * Show 3d tilt in the compass control. Requires `showCompass` to be `true`
		 */
		visualizePitch?: boolean;
		position?: ControlPosition;
	}
	const {
		showCompass = false,
		visualizePitch = false,
		position = 'bottom-left'
	}: NavigationControlProps = $props();
</script>

<MapControl control={new maplibre.NavigationControl({ showCompass, visualizePitch })} {position} />

<style lang="scss">
	:global {
		button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon {
			background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E");
		}

		button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon {
			background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E");
		}

		button.maplibregl-ctrl-compass .maplibregl-ctrl-icon {
			background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='m10.5 14 4-8 4 8h-8z'/%3E%3Cpath d='m10.5 16 4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E");
		}
	}
</style>
